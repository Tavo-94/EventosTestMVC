<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link href="css/style.css" rel="stylesheet" type="text/css" />

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <title>Upload</title>
    <link rel="shortcut icon" href="img/logo.png" type="image/png">
</head>
<body>



   <!--nav--> 
   <!--nav-->

       
      <div class="collapse" id="navbarToggleExternalContent" >
        <div class="bg-light p-4 " >
          <h5 class=" h4">Presupuesto</h5>
          <a href="gastosfacturas.html" id="menulink"><span class="text-muted">Gastos y facturas</span></a>
        </br>
        <a href="" id="menulink"><span class="text-muted">Calculadora</span></a>
        </div>


        
        <div class="bg-light p-4">
          <h5 class=" h4">Listas</h5>
         <a href="listas.html" id="menulink"><span class="text-muted" >Compras</span></a> 
        </br>
        <a href="listas.html" id="menulink"><span class="text-muted">Tareas</span></a>
        </div>

        <div class="bg-light p-4">
          <a href="mesas.html" id="menulink"><h5 class=" h4">Mesas</h5></a>
        </div>

      </div>
      <nav class="navbar navbar-light bg-light"style="padding:20px;">
        <div class="container-fluid">
          <button  class="navbar-toggler collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon" ></span>         <!--img src="img/logo.png" width="40" height="40"-->
          </button>  
          <button id="logout">LOG OUT</button>
        </div>
      </nav>


      <!---->





    
      <div class="container" >
        <div class="row" style="margin-top: 20px;padding: 40px;">

            <section class="col-md-6 top-0 bottom-0 end-0" id="landing">
    <div class="col-md-12 " >
    <h2 style="margin-bottom: 30px;" class="text-center" >Facturas y Archivos</h2>
    
    <div>
        <label for="formFileLg" class="form-label" style="margin-bottom: 20px;">Aqui puedes subir y acceder a las facturas u archivos que deseas  guardar sobre tu evento</label>
        <input type="file" id="fileInput" accept=".txt, .pdf, .jpg, .png" class="form-control form-control-lg"  >
      </div>
   

    <!--input type="file" id="fileInput" accept=".txt, .pdf, .jpg, .png" -->

    </br>
    </br> 
    <div class="text-center">
    <button id="uploadButton" class="subir" style="margin-bottom: 60px;" >Subir Archivo</button> 
</div>
</section>





   <div class="col-md-6">
        <div class="w-100 ">

    <h2 class="text-center">Subidos:</h2>
    <ul id="fileList" ></ul>

    <div id="fileContent"></div>
</div></div>




    <script>
        // ObtÃ©n referencias a los elementos HTML
        const fileInput = document.getElementById('fileInput');
        const uploadButton = document.getElementById('uploadButton');
        const fileList = document.getElementById('fileList');
        const fileContent = document.getElementById('fileContent');

        // Agrega un evento para manejar la carga de archivos
        uploadButton.addEventListener('click', () => {
            const file = fileInput.files[0];

            if (file) {
                // Crea un nuevo elemento de lista y muestra el nombre del archivo
                const listItem = document.createElement('li');
                listItem.textContent = file.name;
                fileList.appendChild(listItem);

                // Sube el archivo al servidor (debes implementar el servidor)
                const formData = new FormData();
                formData.append('file', file);
                
                fetch('http://127.0.0.1', { // Reemplaza 'upload.php' con la URL de tu servidor
                    method: 'POST',
                    body: formData
                })
                .then(response => response.json())
                .then(data => {
                    // Muestra el enlace para acceder al archivo subido
                    const fileLink = document.createElement('a');
                    fileLink.href = data.filePath; // 'filePath' debe ser la ruta al archivo en el servidor
                    fileLink.textContent = 'Acceder al archivo';
                    fileList.appendChild(fileLink);
                });
            }
        });
    </script>
</body>
</html>
